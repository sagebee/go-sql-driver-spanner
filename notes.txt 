
trace error
- https://stackoverflow.com/questions/33034241/how-to-get-the-stack-trace-pointing-to-actual-error-reason


~ Go Packages ~

- https://pkg.go.dev/cloud.google.com/go/spanner
    - client lib 


~ not imported by driver 

database / adminapi 
- https://pkg.go.dev/cloud.google.com/go/spanner/admin/database/apiv1
    - auto generated package for cloud spanner database admin API
    - in googleapis/google-cloud-go repo 


database / adminpb 
- https://pkg.go.dev/google.golang.org/genproto/googleapis/spanner/admin/database/v1
    - EXPERIMENTAL REPO!!!
    - genproto / go generated proto packages 



~ Reference drivers ~
- https://github.com/golang/go/wiki/SQLDrivers

main references ~ 
- https://github.com/go-sql-driver/mysql
    - creates db to destroy 
    - opens & closes new connection per test 


~ promising existing test suits ~   

- https://github.com/bradfitz/go-sql-test

- https://github.com/googleapis/python-spanner/blob/master/tests/system/test_system.py#L755
- https://github.com/googleapis/python-spanner/blob/master/tests/_fixtures.py




~ tutorials ~
- https://medium.com/google-cloud/cloud-spanner-emulator-bf12d141c12
- https://dave.cheney.net/2019/05/07/prefer-table-driven-tests
- https://www.softwaretestinghelp.com/database-testing-process/
- https://yourbasic.org/golang/fmt-printf-reference-cheat-sheet/#boolean



~ Doc links ~  
- https://golang.org/pkg/database/sql/
- https://cloud.google.com/bigquery/docs/reference/standard-sql/data-definition-language  
- https://cloud.google.com/spanner/docs/transactions
- https://cloud.google.com/spanner/docs/functions-and-operators
- https://blog.golang.org/strings


~ misc ~
- https://gist.github.com/trkrameshkumar/f4f1c00ef5d578561c96  ( get num rows returned)


IAM issue:

adminClient, err := database.NewDatabaseAdminClient(
		ctx,
		option.WithoutAuthentication(),
		option.WithEndpoint("0.0.0.0:9010"),
		option.WithGRPCDialOption(grpc.WithInsecure()))


- https://github.com/googleapis/google-cloud-go/blob/c77c822b5aadb0f5f3ae9381acafdee496047f8a/spanner/admin/database/apiv1/database_admin_client.go#L264


PR/ commit guides
- https://www.conventionalcommits.org/en/v1.0.0/
- https://github.com/angular/angular/blob/22b96b9/CONTRIBUTING.md#-commit-message-guidelines

package main

import (
	"context"
	"database/sql"
	"log"
	"time"

	_ "github.com/rakyll/go-sql-driver-spanner"
)


func main() {
	db, err := sql.Open(
		"spanner",
		"projects/test-project/instances/test-instance/databases/gotest",
	)
	if err != nil {
		log.Fatal(err)
	}

	ctx, cancel := context.WithTimeout(context.Background(), 1*time.Minute)
	defer cancel()

	db.ExecContext(
		ctx,
		`CREATE TABLE Singers (
				SingerId   INT64 NOT NULL,
				FirstName  STRING(1024),
				LastName   STRING(1024),
				SingerInfo BYTES(MAX)
			) PRIMARY KEY (SingerId)`,
	)
	db.ExecContext(
		ctx,
		`CREATE TABLE Albums (
				SingerId     INT64 NOT NULL,
				AlbumId      INT64 NOT NULL,
				AlbumTitle   STRING(MAX)
			) PRIMARY KEY (SingerId, AlbumId),
			INTERLEAVE IN PARENT Singers ON DELETE CASCADE`,
	)
	log.Print("Created tables.")
}


